<!DOCTYPE html>



<html>
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.4/css/bootstrap.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <link rel="stylesheet" href="https://saggst.com/assets/ui/css/lib/font-awesome/font-awesome.min.css" />
  <script src="staticData.js"></script>
  <script src="sagGridPlugin.js"></script>

  <style>

.mainDivTbody {
    height: 500px !important;
    overflow-y: scroll;
    overflow-x: hidden;
    -moz-flex: 1;
    -ms-flex: 1;
    /* -webkit-flex: 1; */
    /* flex: 1; */
}

</style>
  
</head>
<body>

   <div class="masterdiv">

	<div id="GridSourceDiv"> 
	</div>

   </div>
   
   <button id="sml_btn_add"> ADD </button>
   
   <button id="sml_btn_delete"> DELETE </button>
   
<script>

function stopLoader(){

}




var rowsDataAPI= API_Data.data;


let rowJson = {
  "indName": null,
  "indFrname": null,
  "indDob": null,
  "refClientid": null,
  "mclientId": "",
  "othindId": "",
  "clientId": "",
  "clientType": "",
  "othindName": "A",
  "othindShortname": "",
  "othindSbzdt": "",
  "othindEbzdt": "",
  "othindIncrpdt": " ",
  "statusname": "",
  "pan": "",
  "mobileNo": "",
  "mailEmail": "@",
  "gstnNo": "",
  "groupName": "",
  "gstnId": "",
  "clientCode": "",
  "consAdr": " INDIA 134002",
  "gstnActive": "",
  "gstnStatus": "",
  "gstnDty": "",
  "gstRgdt": "01/07/2017",
  "gstnCmpyn": "N",
  "stateName": "",
  "gstnUsrcode": "",
  "gstnPassword": "@",
  "clientyearId": 250
};


addGrid(rowsDataAPI);


 function addGrid(rowsData){
		

		var sourceDiv = document.getElementById("GridSourceDiv");
		var columns = [
				            /* {
				
				     	   header :"<input type=\"checkbox\" />",
				     	   field :"checkbox",
				     	   "editable": false,
				     	   width : "50px",
				     	   "elementType":[],
				     	   "text-align" : "center",
				     	   "attributes":{
									"ng-dblclick":"modify()"
					            	}	
				        },*/
				
						{   
							"colType":"checkBox",
							 width : "50px",
							 field:"checkBox",
							 "text-align" : "center",
							 "attributes":{
								 //"ng-click" : "selectRow()",
									"ng-dblclick":"modify()"
					          }	
						},
				        {
				     	   header :"S.No.",
				     	   field :"sno",
				     	   "editable": false,
				     	   search : false,
				     	   width : "50px",
				     	   "text-align":"center",
				     	   "attributes":{
				     	  // "ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Group Name",
				     	   field :"groupName",
				     	   "editable": false,
				     	   search : true,
				     	   width:"140px",
				     	   "text-align":"center",
						    component:"in1",
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Client Code",
				     	   field :"clientCode",
				     	   "editable": false,
				     	   search : true,
				     	   width:"130px",
				     	   "text-align":"center",
						    component:"in2",
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				
				        {
				     	   header :"Name of Organisation",
				     	   field :"othindName",
				     	   filter : true,
				     	   width : "300px",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Constitution",
				     	   field :"statusname",
				     	   "text-align":"left",
				     	   filter :true,
				     	   width : "170px",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	  // "ng-click" : "selectRow()",
				     	  // "ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				
				        {
				     	   header :"PAN",
				     	   field :"pan",
				     	   filter :true,
				     	   "text-align":"center",
				     	   width : "140px",
				     	   "editable": true,
				     	   search :true,
				     	   "attributes":{
				     	  // "ng-click" : "selectRow()",
				     	  // "ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				
				        {
				     	   header :"GSTN",
				     	   field :"gstnNo",
				     	   filter : true,
				     	   width : "180px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Date of Registration",
				     	   field :"gstRgdt",
				     	   filter : true,
				     	   width : "150px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	  // "ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Status",
				     	   field :"gstnStatus",
				     	   filter : true,
				     	   width : "170px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	  // "ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Dealer Type",
				     	   field :"gstnDty",
				     	   filter : true,
				     	   width : "120px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Composition",
				     	   field :"gstnCmpyn",
				     	   filter : true,
				     	   width : "160px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"State Name",
				     	   field :"stateName",
				     	   filter : true,
				     	   width : "150px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Mobile Number",
				     	   field :"mobileNo",
				     	   filter : true,
				     	   width : "120px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	  // "ng-click" : "selectRow()",
				     	  // "ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Email",
				     	   field :"mailEmail",
				     	   filter : true,
				     	   width : "220px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				
				        {
				     	   header :"Address",
				     	   field :"consAdr",
				     	   filter : true,
				     	   width : "500px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Username",
				     	   field :"gstnUsrcode",
				     	   filter : true,
				     	   width : "200px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        },
				        {
				     	   header :"Password",
				     	   field :"gstnPassword",
				     	   filter : true,
				     	   width : "200px",
				     	   "text-align":"center",
				     	   "editable": false,
				     	   search :true,
				     	   "attributes":{
				     	   //"ng-click" : "selectRow()",
				     	   //"ng-dblclick" : "modifyBySelectRow()"
				     	   }
				        }
				
				
				        ];

		var rowsDataCopy = rowsData;
	
		var callBackMethode = {
				"onRowClick":function(){},
				"onRowDbleClick":function(){  }
		};
		
		
		var optArr = [
				{"key":"","val":"-Select-"},
				{"key":"FIL","val":"Filed"},
				{"key":"NF","val":"Pending"},
				{"key":"COM","val":"Completed"}
			];
		
		let selectObj = new SagSelectBox(optArr,function(ele,params){
			
			console.log(ele);
			console.log(params);
			
		});
		
		let inputObj1 = new SagInputText("",function(ar1){
		
				
				alert("call");
				console.log(ar1);
		
		});
		let inputObj2 = new SagInputText("",function(ele,parObj){
	
				console.log(parObj);
				let rowIndex = parObj.rowIndex;
				let rowObj = parObj.rowValue;
				let colKey = parObj.colKey;
				rowObj["othindName"] = "updated";

				$(ele).change(function(){
					console.log(rowIndex);
					 rowObj[colKey] = this.value;
					gridDynamic.updateRow(rowIndex,rowObj);
					
				});
		});
		
		 var components = {
				"in1": selectObj,
				"in2":inputObj2,
			};
		
		
		if( undefined != sourceDiv){
			var gridData = { 
					columnDef     : columns,
					rowDef        : rowsDataCopy,
					menu          : {fontFamily:true,fontSize:true,underline:true,left:true,center:true,right:true,selectionType:true,columnDraggable:true,columnResizable : true},
					selection     : "row",
					//pagging       : true,
					//paggingType   : "Record Wise",
					clientSidePagging : true,
					//recordPerPage : $rootScope.gridPCount,
					recordNo      : true,
					gridExportService	:	 null,//gridExportService,
					frezzManager		:	{"checkBox":"left","sno":"left","othindName":"left","groupName":"left","clientCode":"left"},
					sheatDetails :{sheatName:"Client_ClientCreation_Client_List",title:"Client Creation Client List",fileName : "Client_ClientCreation_Client_List"},
					callBack:callBackMethode,
					components : components
			};
			var gridDynamic = SagGridMP(sourceDiv,gridData, null, null);
			

			$( window ).resize(function() {
				gridDynamic.setGridHight("null");
			});
			gridDynamic.setGridHight("null");

			$("#sml_btn_add").click(function(){
					gridDynamic.addRow(1,rowJson);
			});	


			$("#sml_btn_delete").click(function(){
				let index = gridDynamic.getSelectedRowIndex();
				gridDynamic.deleteRow(index);
			});	


			return gridDynamic;
		}

	}


 
 
 </script> 
</html>


